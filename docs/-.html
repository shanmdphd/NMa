<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>계량약리학 분석을 위한 NONMEM 사용 매뉴얼- 프로그램 설치 및 실행-</title>
  <meta name="description" content="계량약리학 분석을 위한 NONMEM 사용 매뉴얼- 프로그램 설치 및 실행-">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="계량약리학 분석을 위한 NONMEM 사용 매뉴얼- 프로그램 설치 및 실행-" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="계량약리학 분석을 위한 NONMEM 사용 매뉴얼- 프로그램 설치 및 실행-" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="pirana-.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 계량약리학과 NONMEM</a></li>
<li class="chapter" data-level="2" data-path="-.html"><a href="-.html"><i class="fa fa-check"></i><b>2</b> 프로그램 설치 및 연동</a><ul>
<li class="chapter" data-level="2.1" data-path="-.html"><a href="-.html#nonmem-"><i class="fa fa-check"></i><b>2.1</b> NONMEM 설치</a><ul>
<li class="chapter" data-level="2.1.1" data-path="-.html"><a href="-.html#windows-"><i class="fa fa-check"></i><b>2.1.1</b> Windows에서 설치</a></li>
<li class="chapter" data-level="2.1.2" data-path="-.html"><a href="-.html#macos-"><i class="fa fa-check"></i><b>2.1.2</b> MacOS에서 설치</a></li>
<li class="chapter" data-level="2.1.3" data-path="-.html"><a href="-.html#centos---bulb-"><i class="fa fa-check"></i><b>2.1.3</b> CentOS에서 설치 (에디슨 bulb 포함)</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="-.html"><a href="-.html#psn-"><i class="fa fa-check"></i><b>2.2</b> PsN 설치</a></li>
<li class="chapter" data-level="2.3" data-path="-.html"><a href="-.html#r--r-studio-"><i class="fa fa-check"></i><b>2.3</b> R 및 R studio 설치</a></li>
<li class="chapter" data-level="2.4" data-path="-.html"><a href="-.html#pirana-"><i class="fa fa-check"></i><b>2.4</b> Pirana 설치</a></li>
<li class="chapter" data-level="2.5" data-path="-.html"><a href="-.html#pirana--"><i class="fa fa-check"></i><b>2.5</b> Pirana에 프로그램 연동</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="pirana-.html"><a href="pirana-.html"><i class="fa fa-check"></i><b>3</b> Pirana를 이용한 집단약동학 모델링 매뉴얼</a><ul>
<li class="chapter" data-level="3.1" data-path="pirana-.html"><a href="pirana-.html#--"><i class="fa fa-check"></i><b>3.1</b> 기본 모델 구축</a></li>
<li class="chapter" data-level="3.2" data-path="pirana-.html"><a href="pirana-.html#-"><i class="fa fa-check"></i><b>3.2</b> 모델 개선</a></li>
<li class="chapter" data-level="3.3" data-path="pirana-.html"><a href="pirana-.html#-"><i class="fa fa-check"></i><b>3.3</b> 기본모델 선정</a></li>
<li class="chapter" data-level="3.4" data-path="pirana-.html"><a href="pirana-.html#-"><i class="fa fa-check"></i><b>3.4</b> 공변량 스크리닝</a></li>
<li class="chapter" data-level="3.5" data-path="pirana-.html"><a href="pirana-.html#---psn-scm-"><i class="fa fa-check"></i><b>3.5</b> 공변량 모델 설계: PsN의 SCM 이용</a></li>
<li class="chapter" data-level="3.6" data-path="pirana-.html"><a href="pirana-.html#visual-predictive-check-vpc-"><i class="fa fa-check"></i><b>3.6</b> Visual predictive check (VPC) 실행</a></li>
<li class="chapter" data-level="3.7" data-path="pirana-.html"><a href="pirana-.html#goodness-of-fit-gof-"><i class="fa fa-check"></i><b>3.7</b> Goodness of fit (GOF) 작성</a></li>
<li class="chapter" data-level="3.8" data-path="pirana-.html"><a href="pirana-.html#bootstrap-"><i class="fa fa-check"></i><b>3.8</b> Bootstrap 실행</a></li>
<li class="chapter" data-level="3.9" data-path="pirana-.html"><a href="pirana-.html#section-3.9"><i class="fa fa-check"></i><b>3.9</b> 시뮬레이션</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="section-4.html"><a href="section-4.html"><i class="fa fa-check"></i><b>4</b> 참고문헌</a></li>
<li class="chapter" data-level="5" data-path="section.html"><a href="section.html"><i class="fa fa-check"></i><b>5</b> 2015</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">계량약리학 분석을 위한 NONMEM 사용 매뉴얼- 프로그램 설치 및 실행-</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="---" class="section level1">
<h1><span class="header-section-number">2</span> 프로그램 설치 및 연동</h1>
<p>NONMEM을 활용한 계량약리학 연구를 위해 필요한 여러 가지 프로그램 중, 여기서는 기본적인 프로그램인 NONMEM, PsN, Pirana, R 및 R studio의 설치 및 구동 방법에 대해 설명하고자 한다.</p>
<div id="nonmem-" class="section level2">
<h2><span class="header-section-number">2.1</span> NONMEM 설치</h2>
<p>NONMEM은 Nonlinear Mixed Effects Model(비선형혼합효과모델)의 이니셜로, 계량약리학 분석에 가장 많이 활용되고 있는 프로그램이다.
NONMEM을 사용하기 위해서는 라이선스를 받아야 하며, ICON 사에 메일로 구매 요청하고 대금이 결제되면 라이선스 파일인 license.lic 파일과 password를 받을 수 있다.
라이선스는 1년 단위로 갱신한다.</p>
<p>※ NONMEM 라이선스 요청 이메일 주소: <a href="mailto:IDSSoftware@iconplc.com">IDSSoftware@iconplc.com</a></p>
<p>라이선스를 받으면, ICON사의 NONMEM 프로그램 다운받는 사이트로 들어가서, 설치할 컴퓨터의 사양에 맞는 설치파일을 다운로드한다.</p>
<div id="windows-" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Windows에서 설치</h3>
<p>윈도우즈 운영체계가 32비트인 경우에는 ‘nonmem743_gfortran460.exe’, 64비트는 ‘nonmem743_64gfortran463.exe’를 다운받는다. (그림 1)</p>
<p>※ NONMEM 프로그램 사이트 : <a href="https://nonmem.iconplc.com" class="uri">https://nonmem.iconplc.com</a></p>
<p>※ 설치할 컴퓨터 사양 확인 : 제어판→시스템 및 보안→시스템</p>
<p>다운로드 받은 파일을 실행시켜서 프로그램을 설치한다. 이때 password를 입력하는 화면이 나오면 ICON 사에서 받은 password를 입력한다. (그림 2)</p>
<p>password를 입력하면 다음과 같이 설치가 자동으로 실행된다. (그림 3)</p>
<p>NONMEM 설치가 완료된 후 MPICH2 프로그램 설치여부를 묻는 창이 나오는데 MPICH2 프로그램은 서버 컴퓨터에서 프로그램을 구동할 때 parallel process로 computing 할 때 사용하는 프로그램으로 single core CPU를 사용하는 데스크톱 컴퓨터에서는 사용하지 않으므로 설치하지 않아도 된다.
설치가 모두 완료되면 ICON사에서 받은 license.lic 파일을 nm73g 폴더내의 licence 폴더에 저장한다. (그림 4)</p>
<p>라이선스를 갱신할 때는 프로그램을 새로 다운로드 받을 필요 없이 갱신 라이선스 파일을 기존 폴더에 같은 이름으로 덮어씌우면, 자동으로 사용기간이 연장된다. NONMEM이 설치되면 컴퓨터의 c: 폴더 내에 ‘nm73g’ 폴더가 생성되므로, 탐색기에서 nm73g 폴더가 생성되었는지 확인한다. (그림 5)</p>
<p>NONMEM이 설치된 후 프로그램이 제대로 작동하는지 확인하기 위해서 도스창에서 nm73g&gt;run 폴더로 이동하여 ‘nmfe73 control5 control5.txt’를 입력하여 프로그램이 구동되면 설치가 제대로 된 것이다. (그림 6)
※ 도스창에서 NONMEM 프로그램 테스트 : 시작 → 검색 → ’cmd’ 입력→ cd nm73g → cd run → nmfe73 control5 control5.txt 입력</p>
<p>NONMEM이 실행되면 라이선스 발급 기관 및 유효기간이 표시되고, 프로그램에 내장되어 있는 예시 모델의 출력 화면이 나타난다.</p>
</div>
<div id="macos-" class="section level3">
<h3><span class="header-section-number">2.1.2</span> MacOS에서 설치</h3>
<p>내장 압축해제를 사용하지 않고 터미널에서 다음과 같이 입력한다.
In the terminal window, type</p>
<pre><code>cd Downloads
unzip NONMEM7.4.3.zip # password is obtained from IDSSOFTWARE@iconplc.com)
cd nm743CD</code></pre>
<p>Now proceed to instruction 5 below for the SETUP74 command with the following options:</p>
<ul>
<li>Option cd (source path) should be <code>$HOME/Downloads/nm743CD</code></li>
<li>Option h (NONMEM 7.4 directory) is up to you. <code>$HOME/nm743</code> is suggested.</li>
</ul>
<p>If gfortran is installed, the command would be as follows:</p>
<pre><code>/bin/bash SETUP74 $HOME/Downloads/nm743CD $HOME/nm743 gfortran</code></pre>
<p>NONMEM 7.4 will be installed in directory nm743, in the user’s home directory.
Any new terminal window that is opened will</p>
</div>
<div id="centos---bulb-" class="section level3">
<h3><span class="header-section-number">2.1.3</span> CentOS에서 설치 (에디슨 bulb 포함)</h3>
<p>기본적으로 MacOS와 동일하다. <code>~/Downloads/nm743CD</code>에 파일을 복사하고 다음을 실행한다.</p>
<pre><code>/bin/bash SETUP74 $HOME/Downloads/nm743CD $HOME/nm743 gfortran</code></pre>
</div>
</div>
<div id="psn-" class="section level2">
<h2><span class="header-section-number">2.2</span> PsN 설치</h2>
<p>PsN은 Perl-Speaks-Nonmem의 줄임말로 NONMEM을 이용한 비선형 혼합효과 모델의 개발에 필요한 Perl 모듈과 프로그램을 모아서 조합해 놓은 프로그램이다. PsN은 무료로 사용가능 한 open source 소프트웨어로, PsN 웹사이트에서 다운로드 받아서 설치한다.</p>
<p>※ PsN 다운로드 사이트 : <a href="https://uupharmacometrics.github.io/PsN" class="uri">https://uupharmacometrics.github.io/PsN</a> (그림 7)</p>
<p>PsN을 설치하기 전에 NONMEM 프로그램과 Perl module이 컴퓨터에 설치되어 있어야 한다. NONMEM의 설치는 앞에서 설명하였고, 윈도우즈 운영체계에서 Perl module의 설치는 다음과 같다.</p>
<ol style="list-style-type: decimal">
<li><p>Active Perl을 설치를 위해 다운로드 사이트(<a href="http://www.activestate.com/activeperl" class="uri">http://www.activestate.com/activeperl</a>) 에서 컴퓨터 사양에 맞게 프로그램을 다운로드 하여 실행한다. (그림 8)</p></li>
<li><p>설치가 되면 자동적으로 Perl package manager (ppm) 파일이 생성되고 이 파일을 실행하여 PsN에 필요한 다음의 3가지 perl module을 설치한다. (그림 9)</p></li>
</ol>
<pre><code>MooseX::Params::Validate 
Math::Random 
Statistics::Distribution</code></pre>
<p>※ PPM이 깔린 폴더의 경로 중 한글 이름이 있는 경우 실행되지 않을 수 있으므로 이런 경우, 도스창에서 C:&gt;‘set ACTIVEPERL_PPM_HOME=c:/perl/temp’ 입력하여 경로를 지정해 준 후 ’ppm‘을 쳐서 실행한다.</p>
<p>NONMEM과 Perl module의 설치가 완료되었으면, PsN 설치를 위해 다운로드받은 PsN 폴더내에 있는 setup 파일을 클릭하여 실행한다. active perl이 제대로 설치되어야 icon이 활성화되어진다. (그림 10)</p>
<p>파일을 클릭하면 도스창이 열리고 화면 지시대로 진행하면 프로그램이 자동으로 설치된다. Perl Module을 확인하겠냐는 질문이 나오면, y를 입력하여 module이 잘 설치되었는지 확인한다. (그림 11)</p>
<p>Perl module이 제대로 설치되지 않았으면 다음과 같이 module missing 메시지를 안내한다. 이런 경우 해당 module이 설치되지 않았으므로, perl module을 확인하여 다시 설치한다. (그림 12)</p>
<p>모두 설치가 완료되면 다음과 같이 설치가 성공적으로 이루어졌다는 화면이 나타난다. (그림 13)</p>
</div>
<div id="r--r-studio-" class="section level2">
<h2><span class="header-section-number">2.3</span> R 및 R studio 설치</h2>
<p>R은 통계 프로그램 및 언어로서 다양한 그래픽 환경을 제공하는 강점이 있어서, NONMEM 프로그램의 결과 파일을 그래프로 제공하기 위해 필요하다.
R studio는 R을 사용하기 편리하도록 구동해 주는 프로그램이다. R은 무료로 제공되며, R studio는 버전에 따라 무료와 유료가 있으며 데스크 탑 컴퓨터에 사용하는 프로그램은 무료 프로그램을 다운로드 받아서 사용하면 된다. (그림 14)</p>
<ul>
<li>R 다운로드 사이트 : <a href="https://cran.r-project.org/bin/windows/base/" class="uri">https://cran.r-project.org/bin/windows/base/</a></li>
<li>R studio 다운로드 사이트 :<a href="https://www.rstudio.com/products/rstudio/download" class="uri">https://www.rstudio.com/products/rstudio/download</a></li>
</ul>
<p>웹사이트에서 다운로드 받은 프로그램 파일을 더블클릭하여 프로그램을 설치한다. 프로그램 설치후 NONMEM 분석에 사용되는 R Package를 다운로드 받아서 설치한다. 주로 사용되는 package 는 xpose4, PK, ggplot2, psych 등이 있다. R Package를 설치하기 위해서는 console 화면이나 좌측상단의 메인보드에 install.packages(“package name”)을 타이핑하여 실행하거나, 우측하단의 Packages 메뉴에서 원하는 package를 선택하여 클릭한다. (그림 15)</p>
</div>
<div id="pirana-" class="section level2">
<h2><span class="header-section-number">2.4</span> Pirana 설치</h2>
<p>Pirana는 NONMEM 분석을 위한 워크벤치(workbench)로 개발되었으며, 모델의 체계적인 관리와 NONMEM과 다른 연동 프로그램인 PsN, Xpose와의 인터페이스를 제공해 준다. 아카데믹 라이선스는 무료이며, 정부기관에서 사용하는 것도 이에 해당한다. 프로그램 설치는 pirana 사이트에서 다운로드 받아서 설치한다.
※ Pirana 다운로드 사이트 : www.pirana-software.com
프로그램을 다운로드 받기 위해서는 라이선스 요청 화면에서 이름, 소속기관, 이메일 주소를 입력하고 라이선스 종류를 “academic” 으로 선택 후 “Submit”을 클릭하면, 설치 프로그램을 다운로드 할 수 있는 사이트로 이동한다. 컴퓨터 사양에 맞는 설치 프로그램을 다운 받는다. (그림 16)</p>
<p>다운로드 받은 설치 프로그램 파일을 클릭하여 설치를 실행한다. (그림 17)</p>
<p>설치 디렉토리를 묻는 창이 나타나면 디폴트로 선택하여 클릭하고, 설치를 완료한다. C:&gt;Program Files&gt;Pirana 폴더가 생성되고 이 폴더 안에 pirana 실행파일이 생성되며, 시작 프로그램에도 pirana 실행 단축아이콘이 생성된다. (그림 18)</p>
</div>
<div id="pirana--" class="section level2">
<h2><span class="header-section-number">2.5</span> Pirana에 프로그램 연동</h2>
<p>Pirana 프로그램과 NONMEM, PsN, R, 문서편집기 등 다른 프로그램을 연동하도록 참조할 수 있는 경로를 지정해 주어야 한다. 먼저 pirana 아이콘을 클릭하여 프로그램을 실행한 후, Pirana settings 화면으로 이동한다(File 메뉴 &gt;Settings 클릭). NONMEM을 연동하기 위하여 다음 그림과 같이 차례대로 클릭한다. (그림 19)
NONMEM → 찾기 아이콘 → Nmfe scripts found: C:/nm73g 선택 → Add selected to Pirana 선택</p>
<p>PsN을 클릭하면 psn.conf location에는 자동으로 경로지정이 되어 있으므로, 이 경로를 복사하여 PsN executables location에 붙여넣기로 경로를 지정해 준다. (그림 20)</p>
<p>R은 Software integration으로 들어가서 R 설치 경로를 지정한다. 자동으로 R과 R studio가 설치되는 경로가 지정이 되어 있으며, 해당 경로에 프로그램이 실제로 설치되어 있으면 초록색으로 표시된다. (그림 21)</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pirana-.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
